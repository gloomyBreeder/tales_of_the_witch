#include "VulnerabilityComponent.h"
#include "Kismet/KismetMathLibrary.h"

UVulnerabilityComponent::UVulnerabilityComponent()
{
	PrimaryComponentTick.bCanEverTick = false;
}

void UVulnerabilityComponent::BeginPlay()
{
	Super::BeginPlay();

	if (SetRandomVulnerability)
	{
		// use ElementOrder because the player has only these types
		const int32 randomIndex = UKismetMathLibrary::RandomIntegerInRange(0, ElementOrder.Num() - 1);
		VulnerabilityElement = ElementOrder[randomIndex];
	}
}

void UVulnerabilityComponent::TickComponent(float DeltaTime, ELevelTick TickType, FActorComponentTickFunction* ThisTickFunction)
{
	Super::TickComponent(DeltaTime, TickType, ThisTickFunction);
}

ElementType UVulnerabilityComponent::GetVulnerabilityElement()
{
	return VulnerabilityElement;
}

float UVulnerabilityComponent::GetVulnerabilityModifier()
{
	return VulnerabilityModifier;
}

